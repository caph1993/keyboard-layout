
(defcfg
  danger-enable-cmd yes
  movemouse-inherit-accel-state yes
  movemouse-smooth-diagonals yes
)
(defsrc
  esc  f1  f2   f3  f4   f5  f6   f7  f8   f9 f10  f11  f12 ins del
  grv   1    2    3    4    5    6    7    8    9    0    -    =    bspc
  tab    q    w    e    r    t    y    u    i    o    p    [    ]    \
  caps    a    s    d    f    g    h    j    k    l    ;    '   ret
  lsft     z    x    c    v    b    n    m    ,    .    /    rsft
  lctl   lmet lalt          spc         ralt rctl   left up down right
)

(deflayer main
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  @`  @1  @2    _   _    _    _    _    _    _    _    @-   @=   _
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  @lsft  _    _    _    _    _    _    _    _    _    _       @rsft 
  _      _   @lalt           _              _    _    _   _   _   _
)

(deflayer empty-for-reference
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _    _    _    _    _           _ 
  _      _    _              _              _    _    _   _   _   _
)
(defalias lsft (multi lsft (layer-while-held numbers)))
(defalias rsft (multi rsft (layer-while-held numbers)))
(deflayer numbers
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  grv 1    2    3    4    5    6    7    8    9    0    -    = bspc
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _    _    _    _    _           _ 
  _      _    _              _              _    _    _   _   _   _
)
(defalias - (tap-hold-release 200 200 - (layer-while-held numbers-only)))
(deflayer numbers-only
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  grv 1    2    3    4    5    6    7    8    9    0    -    = bspc
  _    XX   XX   XX   XX   XX   XX   XX   XX   XX   XX   XX   XX  _
  _     XX   XX   XX   XX   XX   XX   XX   XX   XX   XX   XX      _ 
  _      XX   XX   XX   XX   XX   XX   XX   XX   XX   XX          _ 
  _      _    _              _              _    _    _   _   _   _
)

;; ---------------------------------------------
;; grv on press, lctl on hold
(defalias 1 (tap-hold-release 200 200 1 (multi lctl (layer-while-held hold-1))))
(defalias 2 (tap-hold-release 200 200 2 (multi lsft (layer-while-held hold-1))))
(deflayer hold-1
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _   _  tab  esc   _    _    _   ret   _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _    _    _    _    _           _ 
  _      _    _              lsft           _    _    _   _   _   _
)
(defalias lalt (multi lalt (layer-while-held hold-lalt)))
(deflayer hold-lalt
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _   tab  esc   _    _    _   ret   _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _    _    _    _    _           _ 
  _      _    _              lsft           _    _    @noA-home _  _ @noA-end
)

(defalias ` (tap-hold-release 200 200 ` (multi (layer-while-held hold-`) (on-release release-vkey vkey-`3) (on-release release-vkey vkey-greek) (on-release release-vkey vkey-math) )))
(deflayer hold-`
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    @`3  tab  esc   _    _    _   ret   _    _    _    _
  _    _    _    _    _    _    _    _    _    _    _    _    _   _
  _     _    _    _    _    _    _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _    _    _    _    _           _ 
  _      _    _              lsft           _    _    @noA-home _  _ @noA-end
)
(defalias noA-home (unmod home))
(defalias noA-end (unmod end))

(defalias `3 (multi (layer-while-held hold-`) (on-press press-vkey vkey-`3) (tap-hold-release 200 200 XX (multi lalt))))
(defvirtualkeys vkey-`3 (layer-while-held 3actions))
(deflayer 3actions
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _    _    _    _    _    _    _    _    _
  _    _    _    _  @term  _    _    _    _    _    _    _    _   _
  _     _    _    _    _  @greek _    _    _    _    _    _       _ 
  _      _    _    _    _    _    _   @math  _    _    _           _ 
  _      _    _            @albert           _    _    _   _   _   _
)

(defalias term M-F3)
(defalias albert M-spc)

(defoverrides
  (lsft bspc) (del)
  (lsft del) (bspc)
)


;; ---------------------------------------------

(defalias = (tap-hold-release 200 200 = (layer-while-held arrows)))
(deflayer arrows
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _   lsft  _    _   esc  _      ⇞  XX  ret   XX   _    _    _
  _   C-q  C-w  C-e  C-r  C-t  C-y  bspc  ▲    ▶    XX  _    _   _
  _    C-a  C-s  C-d  C-f   _    ⇤    ◀    ▼   XX   ⇥   _       _ 
  _     C-z  C-x  C-c  C-v   _    del  XX   ⇟   XX    _           _ 
  _      _    @mse           lsft           _    _    _   _   _   _
)

(defalias mse (layer-while-held mouse))
(deflayer mouse
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _   🖰3    _  @🖱☸↑  _    _    _    _    _
  _    _    _    _    _    _    _    _   @🖱↑  @🖱→   _    _    _   _
  _     _    _    _    _    _    _   @🖱←  @🖱↓   _    _    _       _ 
  _      _    _    _    _    _   ‹🖰   🖰›  @🖱☸↓ _    _           _ 
  _      _    _    (layer-while-held slow-mouse) _    _    _   _   _   _
)
(deflayer slow-mouse
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _   _     _   _     _    _    _    _    _
  _    _    _    _    _    _    _    _   @🖱s↑  @🖱s→   _    _    _   _
  _     _    _    _    _    _    _   @🖱s←  @🖱s↓   _    _    _       _ 
  _      _    _    _    _    _   _    _     _    _    _           _ 
  _      _    _    (layer-while-held slow-mouse)      _    _    _   _   _   _
)

(defalias
  🖱↑  (🖱↑ 3 3)
  🖱→  (🖱→ 3 3)
  🖱←  (🖱← 3 3)
  🖱↓  (🖱↓ 3 3)
  🖱s↑ (🖱↑ 3 1)
  🖱s→ (🖱→ 3 1)
  🖱s← (🖱← 3 1)
  🖱s↓ (🖱↓ 3 1)
  🖱☸↑ (🖱☸↑ 25 60)
  🖱☸↓ (🖱☸↓ 25 60)
)


;; ---------------------------------------------


;; My natural right hand position when typing text is the following:
;; index finger on the joint (J,N,M)
;; middle finger on the (I)
;; anular finger on the (O)
;; pinky finger on the ([)
;; thumb finger on the laptop, below (ralt) and unable to reach it comfortably, but with the tip over the (space bar)

;; My natural right hand position when typing text is the following:
;; index finger on (f)
;; middle finger on the joint (r,4)
;; anular finger on the joint (3,e)
;; pinky finger on the joint (1,tab,q)
;; thumb finger symmetric to the left, below (lalt) unable to reach it comfortably, but with the tip over the (space bar)

;; jiko
;; erdf
;; 
;; Activate with (q hold then w) deactivate with (q)
;; Activate with ([ hold then p) deactivate with ([)
;; backspace with (t) and (u), with the thumb
;; ctrl with (space bar), with the thumb
;; alt with (lalt) and (ralt), with the thumb
;; @fn with (rctl) and (super) with the thumb
;; 
;; shift with (w) and (p), with the pinky
;; tab with (g) and (h)
;; 
;; @enter_navigation with (b)
;; Shortcuts ctrl c v x z y.


(defvirtualkeys vkey-greek (layer-while-held greek-lower))
(defalias greek (on-press press-vkey vkey-greek))
(deflayer greek-lower
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _   @⇧gr  _    _    _    _    _    _    _    _    _    _    _
  _   🔣ψ   🔣ω   🔣ε   🔣ρ   🔣τ   🔣υ   🔣υ   🔣ι   🔣ο   🔣π    _    _   _
  _    🔣α   🔣σ   🔣δ   🔣φ   🔣γ   🔣η   🔣ξ   🔣κ   🔣λ    _    _       _ 
  @⇧gr  🔣ζ   🔣χ   🔣ψ   🔣ω   🔣β   🔣ν   🔣μ    _    _    _           @⇧gr 
  _      _    _              _              _    _    _   _   _   _
)
(defalias ⇧gr (layer-while-held greek-upper))
(deflayer greek-upper
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _    _    _    _    _    _    _    _    _
  _   🔣Ψ   🔣΅   🔣Ε   🔣Ρ   🔣Τ   🔣Υ   🔣Θ   🔣Ι   🔣Ο   🔣Π    _    _   _
  _    🔣Α   🔣Σ   🔣Δ   🔣Φ   🔣Γ   🔣Η   🔣Ξ   🔣Κ   🔣Λ    _    _       _ 
  _     🔣Ζ   🔣Χ   🔣Ψ   🔣Ω   🔣Β   🔣Ν   🔣Μ    _    _    _           _ 
  _      _    _              _              _    _    _   _   _   _
)

(defvirtualkeys vkey-math (layer-while-held math))
(defalias math (on-press press-vkey vkey-math))
(deflayer math
  _  _    _    _   _    _   _    _   _    _   _    _    _    _   _
  _   _    _    _    _    _    _    _    _    _    _    _    _    _
  _   🔣ψ   🔣ω   🔣ε   🔣ρ   🔣τ   🔣υ   🔣υ   🔣ι   🔣ο   🔣π    _    _   _
  _    🔣α   🔣σ   🔣δ   🔣φ   🔣γ   🔣η   🔣ξ   🔣κ   🔣λ    _    _       _ 
  _     🔣ζ   🔣χ   🔣ψ   🔣ω   🔣β   🔣ν   🔣μ    _    _    _           _ 
  _      _    _              _              _    _    _   _   _   _
)

(defseq
    dotcom (. S-3)
    dotorg (. S-4)

    ;;     The shifted letters in parentheses means a single press of lsft
    ;;     must remain held while both h and then s are pressed.
    ;;     This is not the same as S-h S-s, which means that the lsft key
    ;;     must be released and repressed between the h and s presses.
    https (S-(h s))
)
(defvirtualkeys
    dotcom (macro . c o m)
    dotorg (macro . o r g)
    https (macro h t t p s S-; / /)
)